import{j as e,r as a,c as Ne,u as G,B as T,C as ne,E as ke,V as B,a as Ce,L as oe,R as ce}from"./index-BU32lnDF.js";import{A as J,S as ie}from"./StatusBadge-DrI5lZEf.js";const _e=({className:s="h-4 w-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Se=({className:s="h-4 w-4"})=>e.jsxs("svg",{className:`animate-spin ${s}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),Le=({className:s="h-4 w-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),Ue=({className:s="h-4 w-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),Me=({className:s="h-4 w-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Ie=({className:s="h-4 w-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H15M13 16h1.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293H19M6 20l2.5-2.5M18 4l-2.5 2.5M8 8l2.5-2.5M16 16l2.5 2.5"})}),Re=({className:s="h-4 w-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),Ae=({className:s="h-4 w-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3-3m0 0l3 3m-3-3v12"})}),Ee=({className:s="w-4 h-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})}),ze=({className:s="w-4 h-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h6m4 0l4-4m0 0l4 4m-4-4v12"})}),Fe=({className:s="w-4 h-4"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"})}),Te=({className:s="w-5 h-5"})=>e.jsx("svg",{className:s,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Pe=({className:s="w-5 h-5"})=>e.jsx("svg",{className:s,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z"})}),We=({className:s="w-5 h-5"})=>e.jsx("svg",{className:s,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),Be=({className:s="w-5 h-5"})=>e.jsx("svg",{className:s,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),$e=({className:s="mx-auto h-12 w-12"})=>e.jsx("svg",{className:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0118 12a8 8 0 01-8 8 8 8 0 01-8-8 8 8 0 018-8c2.027 0 3.9.753 5.334 2.009"})}),De=({className:s="h-5 w-5"})=>e.jsx("svg",{className:s,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})}),He=({className:s="h-5 w-5"})=>e.jsx("svg",{className:s,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})});function Oe({title:s,titleId:l,...d},i){return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":l},d),s?a.createElement("title",{id:l},s):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Ve=a.forwardRef(Oe),Q=({label:s,error:l,helperText:d,leftIcon:i,rightIcon:r,className:n,id:y,...b})=>{const N=y||`input-${Math.random().toString(36).substr(2,9)}`;return e.jsxs("div",{className:"w-full",children:[s&&e.jsx("label",{htmlFor:N,className:"block text-sm font-medium text-gray-700 mb-1",children:s}),e.jsxs("div",{className:"relative",children:[i&&e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("div",{className:"h-5 w-5 text-gray-400",children:i})}),e.jsx("input",{id:N,className:Ne("block w-full rounded-md border-gray-300 shadow-sm transition-colors","focus:border-primary-500 focus:ring-primary-500","disabled:bg-gray-50 disabled:text-gray-500 disabled:cursor-not-allowed",l&&"border-red-300 focus:border-red-500 focus:ring-red-500",i&&"pl-10",r&&"pr-10",n),...b}),r&&e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:e.jsx("div",{className:"h-5 w-5 text-gray-400",children:r})})]}),l&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),d&&!l&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:d})]})},se=({isOpen:s,onClose:l,title:d,children:i,size:r="md"})=>{if(!s)return null;const n={sm:"max-w-sm sm:max-w-md",md:"max-w-md sm:max-w-lg",lg:"max-w-lg sm:max-w-2xl",xl:"max-w-xl sm:max-w-4xl"};return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex min-h-screen items-center justify-center p-4 text-center sm:block sm:p-0",children:[e.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:l}),e.jsxs("div",{className:`inline-block transform overflow-hidden rounded-lg bg-white text-left align-bottom shadow-xl transition-all sm:my-8 sm:w-full ${n[r]} sm:align-middle`,children:[e.jsxs("div",{className:"flex items-center justify-between border-b border-gray-200 px-4 sm:px-6 py-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 truncate pr-4",children:d}),e.jsx("button",{onClick:l,className:"flex-shrink-0 text-gray-400 hover:text-gray-500 focus:outline-none",children:e.jsx(Ve,{className:"h-6 w-6"})})]}),e.jsx("div",{className:"px-4 sm:px-6 py-4",children:i})]})]})})},re=({onAddURL:s})=>{const{t:l}=G(),[d,i]=a.useState(!1),[r,n]=a.useState(""),[y,b]=a.useState(!1),[N,u]=a.useState(""),[L,m]=a.useState("idle"),[k,U]=a.useState(""),P=w=>{let o=w.trim();o.startsWith("https://")?o=o.substring(8):o.startsWith("http://")&&(o=o.substring(7)),o.startsWith("www.")&&(o=o.substring(4));const C=o.indexOf("/");C>0&&(o=o.substring(0,C));const z=o.indexOf("?");z>0&&(o=o.substring(0,z));const R=o.indexOf("#");return R>0&&(o=o.substring(0,R)),o},v=w=>{let o=w.trim();return!o.startsWith("http://")&&!o.startsWith("https://")&&(o="https://"+o),o},M=a.useCallback(w=>{if(!w.trim())return!1;try{const o=v(w),C=new URL(o),z=C.protocol==="http:"||C.protocol==="https:",R=C.hostname.length>0,D=C.hostname.includes(".");return z&&R&&D}catch{return!1}},[]),p=a.useCallback(w=>{if(!w.trim()){m("idle"),U("");return}m("validating"),setTimeout(()=>{M(w)?(m("valid"),U(l("addUrl.validation.valid"))):(m("invalid"),U(l("addUrl.validation.invalid")))},300)},[l,M]);a.useEffect(()=>{const w=setTimeout(()=>{p(r)},500);return()=>clearTimeout(w)},[r,p]);const F=async w=>{if(w.preventDefault(),u(""),!r.trim()){u(l("addUrl.enterUrl"));return}if(!M(r)){u(l("addUrl.invalidUrl"));return}b(!0);try{const o=v(r);await s(o),n(""),i(!1)}catch(o){u(o instanceof Error?o.message:l("messages.errorAddingUrl"))}finally{b(!1)}},E=()=>{y||(i(!1),n(""),u(""),m("idle"),U(""))},$=w=>{const o=w.target.value;n(o),N&&u("")},I=w=>{w.preventDefault();const o=w.clipboardData.getData("text"),C=P(o);n(C),N&&u("")},H=()=>r.trim()?v(r):"",O=()=>{switch(L){case"validating":return e.jsx(Se,{className:"animate-spin h-5 w-5 text-gray-400"});case"valid":return e.jsx(ne,{className:"h-5 w-5 text-green-500"});case"invalid":return e.jsx(ke,{className:"h-5 w-5 text-red-500"});default:return e.jsx(Ue,{className:"h-5 w-5 text-gray-400"})}};return e.jsxs(e.Fragment,{children:[e.jsxs(T,{onClick:()=>i(!0),className:"shrink-0 w-full sm:w-auto",children:[e.jsx(Le,{className:"h-4 w-4 mr-2"}),l("dashboard.addUrl")]}),e.jsx(se,{isOpen:d,onClose:E,title:l("addUrl.title"),size:"md",children:e.jsxs("form",{onSubmit:F,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(Q,{label:l("addUrl.urlLabel"),type:"text",placeholder:l("addUrl.placeholder"),value:r,onChange:$,onPaste:I,error:N,helperText:l("addUrl.helper"),leftIcon:O(),disabled:y,autoFocus:!0}),k&&e.jsx("div",{className:`mt-2 text-sm transition-all duration-200 ${L==="valid"?"text-green-600":L==="invalid"?"text-red-600":"text-gray-600"}`,children:k}),r.trim()&&L==="valid"&&e.jsxs("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200 transition-all duration-300 ease-in-out",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx(ne,{className:"h-4 w-4 text-green-500 mr-2"}),e.jsx("div",{className:"text-sm font-medium text-green-800",children:l("addUrl.preview")})]}),e.jsx("div",{className:"text-sm font-mono text-green-700 break-all bg-white px-2 py-1 rounded border",children:H()})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:l("addUrl.analysisInfo.title")}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),l("addUrl.analysisInfo.htmlVersion")]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),l("addUrl.analysisInfo.pageTitle")]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),l("addUrl.analysisInfo.headings")]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),l("addUrl.analysisInfo.links")]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),l("addUrl.analysisInfo.brokenLinks")]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx("span",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),l("addUrl.analysisInfo.loginForm")]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx(T,{type:"button",variant:"secondary",onClick:E,disabled:y,children:l("common.cancel")}),e.jsx(T,{type:"submit",loading:y,disabled:L!=="valid",children:l("addUrl.addAndAnalyze")})]})]})})]})},Je=({selectedURLs:s,onClearSelection:l,onRefresh:d,onBulkAnalyze:i,onBulkDelete:r})=>{const{t:n}=G(),[y,b]=a.useState(!1),[N,u]=a.useState(!1),[L,m]=a.useState(!1),[k,U]=a.useState(!1),[P,v]=a.useState(null),[M,p]=a.useState(!1),[F,E]=a.useState(!1),$=a.useCallback(async()=>{try{p(!0),await i(s),B.success(n("messages.bulkAnalyzeStarted"))}catch{B.error(n("messages.errorBulkAnalyze"))}finally{p(!1)}},[s,i,n]),I=a.useCallback(async()=>{try{E(!0),await r(s),B.success(n("messages.bulkDeleteSuccess")),b(!1),l()}catch{B.error(n("messages.errorBulkDelete"))}finally{E(!1)}},[s,r,l,n]),H=a.useCallback(async()=>{try{m(!0);const R=(await J.getURLs({limit:1e3})).data,D=["ID","URL","Title","HTML Version","Status","H1 Count","H2 Count","H3 Count","H4 Count","H5 Count","H6 Count","Internal Links","External Links","Broken Links","Has Login Form","Created At","Updated At"],c=R.map(_=>[_.id,_.url,_.title||"",_.html_version||"",_.status,_.h1_count||0,_.h2_count||0,_.h3_count||0,_.h4_count||0,_.h5_count||0,_.h6_count||0,_.internal_links_count||0,_.external_links_count||0,_.broken_links_count||0,_.has_login_form?"Yes":"No",_.created_at,_.updated_at]),x=[D,...c].map(_=>_.map(ee=>`"${ee}"`).join(",")).join(`
`),f=new Blob([x],{type:"text/csv;charset=utf-8;"}),j=document.createElement("a"),A=URL.createObjectURL(f);j.setAttribute("href",A),j.setAttribute("download",`website-analyzer-export-${new Date().toISOString().split("T")[0]}.csv`),j.style.visibility="hidden",document.body.appendChild(j),j.click(),document.body.removeChild(j),B.success(n("messages.exportSuccess"))}catch{B.error(n("messages.errorExporting"))}finally{m(!1)}},[n]),O=a.useCallback(async()=>{if(P)try{U(!0);const R=(await P.text()).split(`
`),c=R[0].split(",").map(j=>j.replace(/"/g,"")).findIndex(j=>j.toLowerCase().includes("url")||j.toLowerCase().includes("domain"));if(c===-1){B.error(n("messages.importError"));return}const x=R.slice(1).filter(j=>j.trim()).map(j=>j.split(",")[c]?.replace(/"/g,"").trim()).filter(j=>j&&j.length>0);if(x.length===0){B.error(n("messages.noUrlsFound"));return}let f=0;for(const j of x)try{await J.addURL({url:j}),f++}catch(A){console.error(`Failed to import URL: ${j}`,A)}B.success(n("messages.importSuccess",{count:f})),u(!1),v(null),d()}catch{B.error(n("messages.errorImporting"))}finally{U(!1)}},[P,n,d]),w=a.useCallback(z=>{const R=z.target.files?.[0];R&&R.type==="text/csv"?v(R):B.error(n("messages.invalidFileType"))},[n]),o=s.length,C=o>0;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border-b border-gray-200 px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between sm:space-y-0",children:[e.jsx("div",{className:"flex items-center space-x-4",children:C?e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:o===1?n("bulkActions.selectedUrls",{count:o}):n("bulkActions.selectedUrlsPlural",{count:o})}),e.jsxs(T,{variant:"secondary",size:"sm",onClick:l,className:"text-xs",children:[e.jsx(_e,{className:"h-4 w-4 mr-1"}),n("bulkActions.clearSelection")]})]}):e.jsx("span",{className:"text-sm text-gray-500",children:n("bulkActions.selectUrls")})}),e.jsxs("div",{className:"flex flex-col space-y-2 sm:flex-row sm:space-y-0 sm:space-x-2",children:[C&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(T,{variant:"primary",size:"sm",onClick:$,loading:M,disabled:M,className:"w-full sm:w-auto",children:[e.jsx(Ie,{className:"h-4 w-4 mr-1"}),n("bulkActions.reanalyze")]}),e.jsxs(T,{variant:"danger",size:"sm",onClick:()=>b(!0),disabled:F,className:"w-full sm:w-auto",children:[e.jsx(Me,{className:"h-4 w-4 mr-1"}),n("common.delete")]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(T,{variant:"secondary",size:"sm",onClick:H,loading:L,disabled:L,className:"w-full sm:w-auto",children:[e.jsx(Re,{className:"h-4 w-4 mr-1"}),n("bulkActions.exportCsv")]}),e.jsxs(T,{variant:"secondary",size:"sm",onClick:()=>u(!0),className:"w-full sm:w-auto",children:[e.jsx(Ae,{className:"h-4 w-4 mr-1"}),n("bulkActions.importUrls")]})]})]})]})}),e.jsx(se,{isOpen:y,onClose:()=>b(!1),title:n("bulkActions.confirmDelete"),children:e.jsxs("div",{className:"p-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-6",children:o===1?n("bulkActions.deleteMessage",{count:o}):n("bulkActions.deleteMessagePlural",{count:o})}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(T,{variant:"secondary",onClick:()=>b(!1),children:n("common.cancel")}),e.jsx(T,{variant:"danger",onClick:I,loading:F,children:n("common.delete")})]})]})}),e.jsx(se,{isOpen:N,onClose:()=>u(!1),title:n("bulkActions.import.title"),children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:n("bulkActions.import.selectFile")}),e.jsx("input",{type:"file",accept:".csv",onChange:w,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n("bulkActions.import.fileHelper")})]}),e.jsxs("div",{className:"bg-gray-50 p-3 rounded-md",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:n("bulkActions.import.expectedFormat")}),e.jsxs("pre",{className:"text-xs text-gray-600",children:["url,title",`
`,"https://example.com,Example Site",`
`,"https://google.com,Google"]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[e.jsx(T,{variant:"secondary",onClick:()=>u(!1),children:n("common.cancel")}),e.jsx(T,{variant:"primary",onClick:O,loading:k,disabled:!P||k,children:n("bulkActions.import.import")})]})]})})]})},Z=({value:s,onChange:l,options:d,placeholder:i,className:r="",disabled:n=!1})=>e.jsxs("div",{className:`relative ${r}`,children:[e.jsxs("select",{value:s,onChange:y=>{const b=y.target.value,N=typeof s=="number"?Number(b):b;l(N)},disabled:n,className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md bg-white disabled:bg-gray-50 disabled:text-gray-500 appearance-none",children:[i&&e.jsx("option",{value:"",children:i}),d.map(y=>e.jsx("option",{value:y.value,children:y.label},y.value))]}),e.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:e.jsx(Ce,{className:"h-5 w-5 text-gray-400"})})]}),K=({column:s,value:l,onChange:d,type:i,options:r,placeholder:n,className:y=""})=>{const{t:b}=G(),N=a.useCallback(()=>{d("")},[d]),u=()=>n||(i==="text"?b("dashboard.filters.filterBy",{field:b(`dashboard.table.${s}`)}):b("dashboard.filters.all")),L=()=>{switch(i){case"select":return e.jsx(Z,{value:l,onChange:m=>d(String(m)),options:r||[],className:`w-full text-sm ${y}`,placeholder:u()});case"boolean":return e.jsx(Z,{value:l,onChange:m=>d(String(m)),options:[{value:"",label:b("dashboard.filters.all")},{value:"true",label:b("common.yes")},{value:"false",label:b("common.no")}],className:`w-full text-sm ${y}`,placeholder:u()});case"number":return e.jsx(Q,{type:"text",placeholder:u(),value:l,onChange:m=>{const k=m.target.value;(k===""||/^[0-9>=<\s]*$/.test(k))&&d(k)},className:`w-full text-sm ${y}`});default:return e.jsx(Q,{type:"text",placeholder:u(),value:l,onChange:m=>d(m.target.value),className:`w-full text-sm ${y}`})}};return e.jsxs("div",{className:"relative",children:[L(),l&&e.jsx("button",{onClick:N,className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 text-sm",title:b("dashboard.filters.clearFilter"),children:"Ã—"})]})},Xe=({url:s,isSelected:l,onToggleSelect:d,onDelete:i})=>{const{t:r}=G();return e.jsx("div",{className:`border-b border-gray-200 last:border-b-0 ${l?"bg-blue-50":""}`,children:e.jsxs("div",{className:"px-4 py-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:()=>d(s.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:s.title||r("dashboard.table.noTitle")}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:s.url})]})]}),e.jsx(ie,{status:s.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[r("dashboard.table.htmlVersion"),":"]}),e.jsx("span",{className:"ml-1 text-gray-900",children:s.html_version||"N/A"})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[r("dashboard.table.loginForm"),":"]}),e.jsx("span",{className:"ml-1 text-gray-900",children:s.has_login_form?r("common.yes"):r("common.no")})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[r("dashboard.table.internal"),":"]}),e.jsx("span",{className:"ml-1 text-gray-900",children:s.internal_links_count||0})]}),e.jsxs("div",{children:[e.jsxs("span",{className:"text-gray-500",children:[r("dashboard.table.external"),":"]}),e.jsx("span",{className:"ml-1 text-gray-900",children:s.external_links_count||0})]})]}),s.broken_links_count&&s.broken_links_count>0&&e.jsxs("div",{className:"text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:[r("dashboard.table.broken"),":"]}),e.jsx("span",{className:"ml-1 text-red-600 font-medium",children:s.broken_links_count})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[r("dashboard.table.headingTags"),": ",(s.h1_count||0)+(s.h2_count||0)+(s.h3_count||0)+(s.h4_count||0)+(s.h5_count||0)+(s.h6_count||0)]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(oe,{to:`/url/${s.id}`,className:"text-blue-600 hover:text-blue-900 text-sm font-medium",children:r("common.view")}),e.jsx("button",{onClick:()=>i(s.id),className:"text-red-600 hover:text-red-900 text-sm font-medium",children:r("common.delete")})]})]})]})})},qe=({field:s,currentSortField:l,sortDirection:d,className:i="w-4 h-4"})=>l!==s?e.jsx(Ee,{className:`${i} text-gray-400`}):d==="asc"?e.jsx(ze,{className:`${i} text-blue-600`}):e.jsx(Fe,{className:`${i} text-blue-600`}),de=ce.memo(({icon:s,bgColor:l,label:d,value:i,className:r=""})=>e.jsx("div",{className:`bg-white overflow-hidden shadow rounded-lg ${r}`,children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:`w-8 h-8 ${l} rounded-md flex items-center justify-center`,children:e.jsx(s,{className:"w-5 h-5 text-white"})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:d}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:i})]})})]})})}));de.displayName="StatCard";const me=ce.memo(({url:s,isSelected:l,onToggleSelect:d,onDelete:i})=>{const{t:r}=G();return e.jsxs("tr",{className:`hover:bg-gray-50 ${l?"bg-blue-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("input",{type:"checkbox",checked:l,onChange:()=>d(s.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"max-w-xs",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 truncate",children:s.title||r("dashboard.table.noTitle")}),e.jsx("div",{className:"text-sm text-gray-500 truncate",children:s.url})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.html_version||"N/A"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[r("dashboard.table.internal"),":"]}),e.jsx("span",{className:"font-medium",children:s.internal_links_count||0})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{children:[r("dashboard.table.external"),":"]}),e.jsx("span",{className:"font-medium",children:s.external_links_count||0})]}),s.broken_links_count&&s.broken_links_count>0&&e.jsxs("div",{className:"flex justify-between text-red-600",children:[e.jsxs("span",{children:[r("dashboard.table.broken"),":"]}),e.jsx("span",{className:"font-medium",children:s.broken_links_count})]})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:e.jsxs("div",{className:"grid grid-cols-2 gap-1 text-xs",children:[e.jsxs("div",{children:["H1: ",s.h1_count||0]}),e.jsxs("div",{children:["H2: ",s.h2_count||0]}),e.jsxs("div",{children:["H3: ",s.h3_count||0]}),e.jsxs("div",{children:["H4: ",s.h4_count||0]}),e.jsxs("div",{children:["H5: ",s.h5_count||0]}),e.jsxs("div",{children:["H6: ",s.h6_count||0]})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${s.has_login_form?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:s.has_login_form?r("common.yes"):r("common.no")})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx(ie,{status:s.status}),s.error_message&&e.jsx("div",{className:"text-xs text-red-600 mt-1 truncate max-w-xs",children:s.error_message})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsx(oe,{to:`/url/${s.id}`,className:"text-blue-600 hover:text-blue-900",children:r("dashboard.table.details")}),e.jsx("button",{onClick:()=>i(s.id),className:"text-red-600 hover:text-red-900 ml-2",children:r("dashboard.table.delete")})]})]})});me.displayName="URLTableRow";var Ke={};const Ge=({onStatusUpdate:s,reconnectInterval:l=5e3,maxReconnectAttempts:d=5}={})=>{const[i,r]=a.useState(!1),[n,y]=a.useState(0),[b,N]=a.useState(null),u=a.useRef(null),L=a.useRef(null),m=a.useRef(0),k=()=>{try{const v=Ke.REACT_APP_WS_URL||"ws://localhost:8080/ws",M=new WebSocket(v);M.onopen=()=>{console.log("WebSocket connected"),r(!0),N(null),y(0),m.current=0},M.onmessage=p=>{try{const F=JSON.parse(p.data);console.log("WebSocket message received:",F),s&&F.type==="status_update"&&s(F)}catch(F){console.error("Error parsing WebSocket message:",F)}},M.onclose=p=>{console.log("WebSocket disconnected:",p.code,p.reason),r(!1),u.current=null,p.code!==1e3&&m.current<d?(m.current++,y(m.current),console.log(`Reconnecting... (${m.current}/${d})`),L.current=setTimeout(()=>{k()},l)):m.current>=d&&N("Max reconnection attempts reached")},M.onerror=p=>{console.error("WebSocket error:",p),N("WebSocket connection error")},u.current=M}catch(v){console.error("Error creating WebSocket:",v),N("Failed to create WebSocket connection")}},U=()=>{L.current&&clearTimeout(L.current),u.current&&(u.current.close(1e3,"Manual disconnect"),u.current=null),r(!1)},P=v=>{u.current&&u.current.readyState===WebSocket.OPEN?u.current.send(JSON.stringify(v)):console.warn("WebSocket not connected")};return a.useEffect(()=>(k(),()=>{U()}),[]),{isConnected:i,error:b,reconnectAttempts:n,connect:k,disconnect:U,sendMessage:P}},Ye=(s={})=>{const[l,d]=a.useState([]),[i,r]=a.useState(!0),[n,y]=a.useState(null),[b,N]=a.useState([]),[u,L]=a.useState(0),[m,k]=a.useState(0),{page:U=1,limit:P=10,search:v="",status:M="all",autoRefresh:p=!1,refreshInterval:F=3e4}=s,E=a.useCallback(c=>{console.log("Status update received:",c),d(x=>{const f=[...x],j=f.findIndex(A=>A.id===c.url_id);return j!==-1&&(c.status==="deleted"?f.splice(j,1):c.data?f[j]={...f[j],...c.data}:f[j]={...f[j],status:c.status}),f})},[]),{isConnected:$}=Ge({onStatusUpdate:E}),I=a.useCallback(async()=>{try{r(!0),y(null);const c=await J.getURLs({page:U,limit:P,search:v,status:M==="all"?void 0:M});d(c?.data),L(c?.total),k(c?.total_pages)}catch(c){y(c instanceof Error?c.message:"Failed to fetch URLs"),console.error("Error fetching URLs:",c)}finally{r(!1)}},[U,P,v,M]),H=a.useCallback(async c=>{try{const x=await J.addURL({url:c});return d(f=>[x,...f||[]]),x}catch(x){throw console.error("Error adding URL:",x),x}},[]),O=a.useCallback(async c=>{try{await J.deleteURL(c),d(x=>(x||[]).filter(f=>f.id!==c)),N(x=>x.filter(f=>f!==c))}catch(x){throw console.error("Error deleting URL:",x),x}},[]),w=a.useCallback(async c=>{try{await J.bulkDelete(c),d(x=>(x||[]).filter(f=>!c.includes(f.id))),N([])}catch(x){throw console.error("Error bulk deleting URLs:",x),x}},[]),o=a.useCallback(async c=>{try{await J.bulkAnalyze(c)}catch(x){throw console.error("Error bulk analyzing URLs:",x),x}},[]),C=a.useCallback(async c=>{try{await J.analyzeURL(c)}catch(x){throw console.error("Error analyzing URL:",x),x}},[]),z=a.useCallback(c=>{N(x=>x.includes(c)?x.filter(f=>f!==c):[...x,c])},[]),R=a.useCallback(()=>{N([])},[]),D=a.useCallback(()=>{N(l.map(c=>c.id))},[l]);return a.useEffect(()=>{I()},[I]),a.useEffect(()=>{if(p&&!$){const c=setInterval(I,F);return()=>clearInterval(c)}},[p,F,$,I]),{urls:l,loading:i,error:n,selectedURLs:b,totalCount:u,totalPages:m,isConnected:$,addURL:H,deleteURL:O,bulkDelete:w,bulkAnalyze:o,analyzeURL:C,toggleSelect:z,clearSelection:R,selectAll:D,refetch:I}},es=()=>{const{t:s}=G(),[l,d]=a.useState(""),[i,r]=a.useState(""),[n,y]=a.useState("all"),[b,N]=a.useState("created_at"),[u,L]=a.useState("desc"),[m,k]=a.useState(1),[U,P]=a.useState(10),[v,M]=a.useState({title:"",url:"",html_version:"",internal_links_count:"",external_links_count:"",has_login_form:"",status:"all"}),[p,F]=a.useState(v);a.useEffect(()=>{const t=setTimeout(()=>{r(l)},300);return()=>clearTimeout(t)},[l]),a.useEffect(()=>{const t=setTimeout(()=>{F(v)},300);return()=>clearTimeout(t)},[v]);const{urls:E,loading:$,selectedURLs:I,addURL:H,deleteURL:O,toggleSelect:w,clearSelection:o,refetch:C}=Ye({search:i,status:n,autoRefresh:!0,refreshInterval:5e3}),z=a.useCallback(async t=>{try{if(!(await fetch("/api/urls/bulk-analyze",{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":"dev-api-key-2024"},body:JSON.stringify({ids:t})})).ok)throw new Error("Failed to start bulk analysis");await C()}catch(g){throw console.error("Error in bulk analyze:",g),g}},[C]),R=a.useCallback(async t=>{try{if(!(await fetch("/api/urls/bulk-delete",{method:"POST",headers:{"Content-Type":"application/json","X-API-Key":"dev-api-key-2024"},body:JSON.stringify({ids:t})})).ok)throw new Error("Failed to delete URLs");await C()}catch(g){throw console.error("Error in bulk delete:",g),g}},[C]),D=a.useCallback(t=>{b===t?L(u==="asc"?"desc":"asc"):(N(t),L("asc"))},[b,u]),c=a.useMemo(()=>E?[...E].sort((t,g)=>{let h=t[b],S=g[b];return h==null&&(h=""),S==null&&(S=""),typeof h=="string"&&typeof S=="string"&&(h=h.toLowerCase(),S=S.toLowerCase()),typeof h=="boolean"&&typeof S=="boolean"&&(h=h?1:0,S=S?1:0),u==="asc"?h>S?1:h<S?-1:0:h<S?1:h>S?-1:0}):[],[E,b,u]),x=a.useCallback((t,g)=>{if(!g.trim())return!0;const h=g.trim();if(h.startsWith(">=")){const W=parseInt(h.substring(2).trim());return!isNaN(W)&&t>=W}if(h.startsWith("<=")){const W=parseInt(h.substring(2).trim());return!isNaN(W)&&t<=W}if(h.startsWith(">")){const W=parseInt(h.substring(1).trim());return!isNaN(W)&&t>W}if(h.startsWith("<")){const W=parseInt(h.substring(1).trim());return!isNaN(W)&&t<W}const S=parseInt(h);return!isNaN(S)&&t===S},[]),f=a.useMemo(()=>c?c.filter(t=>{const g=!i||t.url.toLowerCase().includes(i.toLowerCase())||t.title?.toLowerCase().includes(i.toLowerCase())||t.html_version?.toLowerCase().includes(i.toLowerCase())||t.status.toLowerCase().includes(i.toLowerCase()),h=!p.title||t.title?.toLowerCase().includes(p.title.toLowerCase()),S=!p.url||t.url.toLowerCase().includes(p.url.toLowerCase()),W=!p.html_version||t.html_version?.toLowerCase().includes(p.html_version.toLowerCase()),fe=!p.internal_links_count||x(t.internal_links_count,p.internal_links_count),je=!p.external_links_count||x(t.external_links_count,p.external_links_count),ye=!p.has_login_form||p.has_login_form==="true"&&t.has_login_form||p.has_login_form==="false"&&!t.has_login_form,ve=p.status==="all"||t.status===p.status,we=n==="all"||t.status===n;return g&&h&&S&&W&&fe&&je&&ye&&ve&&we}):[],[c,i,p,n,x]),j=a.useMemo(()=>{const t=Math.ceil(f?.length/U),g=(m-1)*U,h=g+U,S=f?.slice(g,h);return{totalPages:t,startIndex:g,endIndex:h,paginatedUrls:S}},[f,m,U]),{totalPages:A,startIndex:_,endIndex:ee,paginatedUrls:V}=j,X=a.useMemo(()=>({total:E?.length||0,processing:E?.filter(t=>t.status==="processing")?.length||0,completed:E?.filter(t=>t.status==="completed")?.length||0,failed:E?.filter(t=>t.status==="error")?.length||0}),[E]),xe=a.useCallback(()=>{I.length===V?.length?o():V?.forEach(t=>{I.includes(t.id)||w(t.id)})},[I,V,o,w]),ue=V?.length>0&&I?.length===V?.length,he=I?.length>0&&I?.length<V?.length,te=a.useCallback(async t=>{await H(t)},[H]),ae=a.useMemo(()=>[{value:"all",label:s("dashboard.filters.allStatuses")},{value:"queued",label:s("dashboard.filters.queued")},{value:"processing",label:s("dashboard.filters.processing")},{value:"completed",label:s("dashboard.filters.completed")},{value:"error",label:s("dashboard.filters.error")}],[s]),pe=a.useMemo(()=>[{value:5,label:"5"},{value:10,label:"10"},{value:25,label:"25"},{value:50,label:"50"}],[]),ge=a.useMemo(()=>[{icon:Te,bgColor:"bg-blue-500",label:s("dashboard.stats.totalUrls"),value:X.total},{icon:Pe,bgColor:"bg-yellow-500",label:s("dashboard.stats.processing"),value:X.processing},{icon:We,bgColor:"bg-green-500",label:s("dashboard.stats.completed"),value:X.completed},{icon:Be,bgColor:"bg-red-500",label:s("dashboard.stats.failed"),value:X.failed}],[s,X]),Y=a.useCallback((t,g)=>e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>D(t),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:g}),e.jsx(qe,{field:t,currentSortField:b,sortDirection:u})]})},t),[D,b,u]),q=a.useCallback((t,g)=>{M(h=>({...h,[t]:g})),k(1)},[]),be=a.useCallback(()=>{d(""),y("all"),M({title:"",url:"",html_version:"",internal_links_count:"",external_links_count:"",has_login_form:"",status:"all"}),k(1)},[]),le=a.useMemo(()=>l||n!=="all"||Object.values(v).some(t=>t!==""&&t!=="all"),[l,n,v]);return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center py-6 space-y-4 sm:space-y-0",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:s("dashboard.title")}),e.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:[s("dashboard.subtitle"),X.processing>0&&e.jsxs("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[X.processing," ",s("dashboard.processing")]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsx(T,{variant:"secondary",onClick:()=>C(),loading:$,className:"w-full sm:w-auto",children:s("dashboard.refresh")}),e.jsx(re,{onAddURL:te})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-6 sm:mb-8",children:ge.map((t,g)=>e.jsx(de,{icon:t.icon,bgColor:t.bgColor,label:t.label,value:t.value},g))}),e.jsxs("div",{className:"bg-white shadow rounded-lg mb-6",children:[e.jsx(Je,{selectedURLs:I,onClearSelection:o,onRefresh:C,onBulkAnalyze:z,onBulkDelete:R}),e.jsxs("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:[e.jsx("div",{className:"flex flex-col space-y-4 sm:space-y-3",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[e.jsx("div",{className:"flex-1 max-w-full sm:max-w-lg",children:e.jsx(Q,{placeholder:s("dashboard.filters.searchPlaceholder"),value:l,onChange:t=>d(t.target.value),className:"w-full"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsx(Z,{value:n,onChange:t=>y(t),options:ae,className:"w-full sm:w-40"}),e.jsx(Z,{value:U,onChange:t=>P(t),options:pe,className:"w-full sm:w-20"}),le&&e.jsx(T,{variant:"secondary",onClick:be,className:"w-full sm:w-auto px-3 py-2 text-sm",children:s("dashboard.filters.clearAll")})]})]})}),le&&e.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[l&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s("dashboard.filters.globalSearch"),': "',l,'"']}),n!=="all"&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[s("dashboard.filters.status"),": ",n]}),Object.entries(v).map(([t,g])=>g&&g!=="all"&&e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[s(`dashboard.table.${t}`),": ",g]},t))]})]})]}),e.jsxs("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[e.jsx("div",{className:"px-4 sm:px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center space-y-2 sm:space-y-0",children:[e.jsxs("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:[s("dashboard.table.urls")," (",f?.length,")"]}),e.jsx("div",{className:"text-sm text-gray-500",children:s("dashboard.table.showing",{start:_+1,end:Math.min(ee,f?.length),total:f?.length})})]})}),e.jsx("div",{className:"hidden lg:block overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsxs("thead",{className:"bg-gray-50",children:[e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e.jsx("input",{type:"checkbox",checked:ue,ref:t=>{t&&(t.indeterminate=he)},onChange:xe,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})}),Y("title",s("dashboard.table.title")),Y("html_version",s("dashboard.table.htmlVersion")),Y("internal_links_count",s("dashboard.table.links")),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("dashboard.table.headingTags")}),Y("has_login_form",s("dashboard.table.loginForm")),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("dashboard.table.status")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("common.actions")})]}),e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("td",{className:"px-6 py-2"}),e.jsx("td",{className:"px-6 py-2",children:e.jsx(K,{column:"title",value:v.title,onChange:t=>q("title",t),type:"text"})}),e.jsx("td",{className:"px-6 py-2",children:e.jsx(K,{column:"html_version",value:v.html_version,onChange:t=>q("html_version",t),type:"text"})}),e.jsx("td",{className:"px-6 py-2",children:e.jsx(K,{column:"internal_links_count",value:v.internal_links_count,onChange:t=>q("internal_links_count",t),type:"number",placeholder:"e.g., >5, <=10, 0"})}),e.jsx("td",{className:"px-6 py-2",children:e.jsx(K,{column:"external_links_count",value:v.external_links_count,onChange:t=>q("external_links_count",t),type:"number",placeholder:"e.g., >10, <=50"})}),e.jsx("td",{className:"px-6 py-2",children:e.jsx(K,{column:"has_login_form",value:v.has_login_form,onChange:t=>q("has_login_form",t),type:"boolean"})}),e.jsx("td",{className:"px-6 py-2",children:e.jsx(K,{column:"status",value:v.status,onChange:t=>q("status",t),type:"select",options:ae})}),e.jsx("td",{className:"px-6 py-2"})]})]}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:V?.map(t=>e.jsx(me,{url:t,isSelected:I.includes(t.id),onToggleSelect:w,onDelete:O},t.id))})]})}),e.jsx("div",{className:"lg:hidden",children:V?.map(t=>e.jsx(Xe,{url:t,isSelected:I.includes(t.id),onToggleSelect:w,onDelete:O},t.id))}),A>1&&e.jsx("div",{className:"px-4 sm:px-6 py-4 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[e.jsx("button",{onClick:()=>k(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:s("common.previous")}),e.jsx("button",{onClick:()=>k(Math.min(A,m+1)),disabled:m===A,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50",children:s("common.next")})]}),e.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-700",children:s("dashboard.pagination.page",{current:m,total:A})})}),e.jsx("div",{children:e.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px",children:[e.jsxs("button",{onClick:()=>k(Math.max(1,m-1)),disabled:m===1,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:s("common.previous")}),e.jsx(De,{className:"h-5 w-5"})]}),Array.from({length:Math.min(A,5)},(t,g)=>{const h=A<=5||m<=3?g+1:m>=A-2?A-4+g:m-2+g;return e.jsx("button",{onClick:()=>k(h),className:`relative inline-flex items-center px-3 sm:px-4 py-2 border text-sm font-medium ${h===m?"z-10 bg-blue-50 border-blue-500 text-blue-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"}`,children:h},h)}),e.jsxs("button",{onClick:()=>k(Math.min(A,m+1)),disabled:m===A,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50",children:[e.jsx("span",{className:"sr-only",children:s("common.next")}),e.jsx(He,{className:"h-5 w-5"})]})]})})]})]})}),f?.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx($e,{className:"mx-auto h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:s("dashboard.empty.title")}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:s(l||n!=="all"?"dashboard.empty.noResults":"dashboard.empty.noUrls")}),!l&&n==="all"&&e.jsx("div",{className:"mt-6",children:e.jsx(re,{onAddURL:te})})]})]})]})]})};export{es as default};
